# ********RoostGPT********

# Test generated by RoostGPT for test artilleryTest using AI Type  and AI Model 
# 
# Test generated for /kafka/v3/clusters/{cluster_id}/topics_post for http method type POST in artillery framework
# RoostTestHash=783e9d2ab5
# 
# 

# ********RoostGPT********
config:
  target: "{{ $processEnvironment.uiop_API_HOST }}"
  plugins:
    expect:
      - plugin: expect

scenarios:
  - name: Non-Success API Responses
    flow:
      - think: 1
      - get:
          url: "/kafka/v3/clusters/invalid_cluster_id/topics"
          headers:
            Authorization: "Bearer {{$processEnvironment.uiop_AUTH_TOKEN}}"
        expect:
          statusCode: 404
      
      - think: 1
      - post:
          url: "/kafka/v3/clusters/valid_cluster_id/topics"
          headers:
            Authorization: "Bearer {{$processEnvironment.uiop_AUTH_TOKEN}}"
          payload:
            topic_name: "invalid_topic_name"
            partitions_count: 10
            replication_factor: 3
            configs:
              - name: "cleanup.policy"
                value: "compact"
        expect:
          statusCode: 400
      
      - think: 1
      - post:
          url: "/kafka/v3/clusters/valid_cluster_id/topics"
          headers:
            Authorization: "Bearer {{$processEnvironment.uiop_AUTH_TOKEN}}"
          payload:
            topic_name: "valid_topic_name"
            partitions_count: 10
            replication_factor: 1
            configs:
              - name: "cleanup.policy"
                value: "compact"
        expect:
          statusCode: 201
      
      - think: 1
      - post:
          url: "/kafka/v3/clusters/valid_cluster_id/topics"
          headers:
            Authorization: "Bearer {{$processEnvironment.uiop_AUTH_TOKEN}}"
          payload:
            topic_name: "valid_topic_name"
            partitions_count: 10
            replication_factor: 3
            configs:
              - name: "cleanup.policy"
                value: "compact"
        expect:
          statusCode: 200
