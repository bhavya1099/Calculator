# ********RoostGPT********

# Test generated by RoostGPT for test advancedReportTest using AI Type  and AI Model 
# 
# Test generated for /kafka/v3/clusters/{cluster_id}/topics_get for http method type GET in artillery framework
# RoostTestHash=5a89adf6e3
# 
# 

# ********RoostGPT********
config:
  target: "{{$processEnvironment.nmnmn_API_HOST}}"
  phases:
    - duration: 60
      arrivalRate: 5
  payload:
    path: "kafka_v3_clusters_cluster_id_topics_get_success.csv"
    fields:
      - "cluster_id"
    skipHeader: true
    delimiter: "^|^"
  plugins:
    expect: {}

scenarios:
  - name: List Kafka Topics
    flow:
      - log: "Starting scenario: List Kafka Topics"
      - get:
          url: "/kafka/v3/clusters/{{cluster_id}}/topics"
          headers:
            Authorization: "Bearer {{$processEnvironment.nmnmn_AUTH_TOKEN}}"
          expect:
            - statusCode: 200
            - contentType: "application/json"
            - hasProperty: "kind"
            - hasProperty: "metadata"
            - hasProperty: "data"
            - equals:
                "kind": "KafkaTopicList"
            - matchesJsonSchema:
                metadata:
                  type: "object"
                  required: ["self"]
                  properties:
                    self:
                      type: "string"
                    next:
                      type: "string"
                      nullable: true
            - matchesJsonSchema:
                data:
                  type: "array"
                  items:
                    type: "object"
                    required:
                      - "kind"
                      - "metadata"
                      - "cluster_id"
                      - "topic_name"
                      - "is_internal"
                      - "replication_factor"
                      - "partitions_count"
                      - "partitions"
                      - "configs"
                      - "partition_reassignments"
                    properties:
                      kind:
                        type: "string"
                      metadata:
                        type: "object"
                        required: ["self"]
                        properties:
                          self:
                            type: "string"
                          resource_name:
                            type: "string"
                            nullable: true
                      cluster_id:
                        type: "string"
                      topic_name:
                        type: "string"
                      is_internal:
                        type: "boolean"
                      replication_factor:
                        type: "integer"
                      partitions_count:
                        type: "integer"
                      partitions:
                        type: "object"
                        required: ["related"]
                        properties:
                          related:
                            type: "string"
                      configs:
                        type: "object"
                        required: ["related"]
                        properties:
                          related:
                            type: "string"
                      partition_reassignments:
                        type: "object"
                        required: ["related"]
                        properties:
                          related:
                            type: "string"
                      authorized_operations:
                        type: "array"
                        items:
                          type: "string"
                          enum:
                            - "UNKNOWN"
                            - "ALL"
                            - "READ"
                            - "WRITE"
                            - "CREATE"
                            - "DELETE"
                            - "ALTER"
                            - "DESCRIBE"
                            - "CLUSTER_ACTION"
                            - "DESCRIBE_CONFIGS"
                            - "ALTER_CONFIGS"
                            - "IDEMPOTENT_WRITE"
      - think: 2
      - log: "Completed scenario: List Kafka Topics"
