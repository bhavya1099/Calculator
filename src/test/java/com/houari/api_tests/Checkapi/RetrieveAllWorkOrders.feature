# ********RoostGPT********

# Test generated by RoostGPT for test java-customannotation-test using AI Type  and AI Model 
# 
# ROOST_METHOD_HASH=de965f9280
# ROOST_METHOD_SIG_HASH=2226510a78
# 
#  ########## Scenario ########## 
# 
# {
#   feature: 'Feature: Work Order Management API',
#   background: null,
#   rule: null,
#   scenario: {
#     title: 'Scenario: Retrieve all work orders',
#     steps: 'Given the API endpoint is "/workorders"\n' +
#       'When I send a GET request to retrieve all work orders\n' +
#       'Then the response status code should be 200\n' +
#       'And the response should contain a list of work orders',
#     examples: ''
#   }
# }
# 

# ********RoostGPT********
Feature: Work Order Management API

  Background:
    * def CHECKAPI_43F280E94D_URL = karate.properties['CHECKAPI_43F280E94D_URL'] || karate.get('CHECKAPI_43F280E94D_URL', 'http://localhost:4010')
    * def CHECKAPI_43F280E94D_AUTH_TOKEN = karate.properties['CHECKAPI_43F280E94D_AUTH_TOKEN'] || karate.get('CHECKAPI_43F280E94D_AUTH_TOKEN', 'Bearer_Dummy_Token')

  Scenario: Retrieve all work orders with valid cluster_id
    * url CHECKAPI_43F280E94D_URL
    * header Authorization = 'Bearer ' + CHECKAPI_43F280E94D_AUTH_TOKEN
    Given path '/kafka/v3/clusters/{cluster_id}/topics'
    And path 'example-cluster-id'
    When method get
    Then status 200
    And match response == '#array'
    And match each response contains {id: '#string', status: '#string', code: '#string', title: '#string', detail: '#string'}

  Scenario: Retrieve all work orders with invalid cluster_id
    * url CHECKAPI_43F280E94D_URL
    * header Authorization = 'Bearer ' + CHECKAPI_43F280E94D_AUTH_TOKEN
    Given path '/kafka/v3/clusters/{cluster_id}/topics'
    And path 'invalid-cluster-id'
    When method get
    Then status 400
    And match response.id == '#string'
    And match response.status == '400'
    And match response.code == '#string'
    And match response.title == 'Invalid Request'
    And match response.detail == 'The provided cluster_id is invalid.'

  Scenario: Unauthorized access attempt to retrieve work orders
    * url CHECKAPI_43F280E94D_URL
    * header Authorization = 'InvalidToken'
    Given path '/kafka/v3/clusters/{cluster_id}/topics'
    And path 'example-cluster-id'
    When method get
    Then status 401
    And match response.id == '#string'
    And match response.status == '401'
    And match response.code == '#string'
    And match response.title == 'Unauthorized'
    And match response.detail == 'Authentication credentials are missing or incorrect.'
